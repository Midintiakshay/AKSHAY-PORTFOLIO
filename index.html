<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Midinti Akshay Kumar ‚Äì Portfolio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;600;800&display=swap" rel="stylesheet" />
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

  <style>
    /* --- Basic reset & base (kept from your original styles with some adjustments) --- */
    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; scroll-padding-top: 80px; }
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: #000; /* pure black base - shader will be rendered behind content */
      color: #eee;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* --- Shader canvas (Three.js) --- */
    #shader-bg {
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: -1;        /* behind content */
      background: #000;   /* pure black */
      pointer-events: none;
      display: block;
    }

    /* --- Wrapper to keep layout unchanged but transparent so shader shows through --- */
    .content-wrapper {
      position: relative;
      z-index: 1;
      max-width: 1200px;
      margin: 12px auto;
      padding: 12px;
      color: #eaeef8;
    }

    /* Navbar */
    .navbar {
      position: fixed;
      top: 0;
      width: 100%;
      background: rgba(8,8,12,0.15);
      padding: 0.7rem 1rem;
      z-index: 10;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      backdrop-filter: blur(4px);
    }
    .navbar ul {
      list-style: none;
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin: 0;
      padding: 0;
    }
    .navbar a {
      color: #00ffff;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.25s ease;
    }
    .navbar a:hover { color: #bb86fc; }

    /* Hero */
    .hero {
      text-align: center;
      padding: 7rem 1rem 3rem;
      opacity: 1;
    }
    .profile-photo {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      border: 3px solid rgba(255,255,255,0.06);
      object-fit: cover;
      box-shadow: 0 8px 30px rgba(0,255,255,0.04);
    }
    .name {
      font-size: 2rem;
      color:#fff;
      margin-top: 1rem;
      text-shadow: 0 0 10px rgba(0,255,255,0.06);
    }
    .title { opacity: 0.85; }

    .resume-button {
      margin-top: 1.5rem;
      background: linear-gradient(45deg, rgba(3,218,197,0.14), rgba(187,134,252,0.12));
      color: #00ffff;
      padding: 0.6rem 1.2rem;
      border-radius: 8px;
      font-weight: 600;
      text-decoration: none;
      border: 1px solid rgba(0,255,255,0.14);
    }
    .resume-button:hover { box-shadow: 0 6px 22px rgba(0,255,255,0.08); }

    /* Section Styling */
    .section {
      padding: 2.4rem 1rem;
      max-width: 960px;
      margin: auto;
    }

    /* Cards */
    .edu-card, .project {
      background: rgba(15,15,25,0.82);
      padding: 1rem;
      margin-bottom: 1rem;
      border-radius: 8px;
      border: 1px solid rgba(0,255,255,0.06);
      opacity: 0;
      transform: translateY(40px);
      transition: opacity 0.8s ease, transform 0.8s ease;
    }

    /* Skills */
    .skills-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 1rem;
    }
    .skill {
      background: rgba(12,12,18,0.9);
      padding: 1rem;
      border-radius: 10px;
      text-align: center;
      transition: 0.3s transform;
      border: 1px solid rgba(0,255,255,0.04);
    }
    .skill:hover { transform: translateY(-6px); box-shadow: 0 10px 30px rgba(0,255,255,0.06); }
    .skill img, .skill i { width: 32px; height: 32px; margin-bottom: 0.5rem; }

    /* Footer */
    footer {
      background: transparent;
      color: #eee;
      text-align: center;
      padding: 2rem 1rem;
      border-top: 1px solid rgba(255,255,255,0.03);
    }

    /* Buttons */
    .link-button {
      display: inline-block;
      margin-top: 0.6rem;
      padding: 0.5rem 1.2rem;
      background: rgba(3,218,197,0.06);
      color: #00ffff;
      font-weight: 600;
      border-radius: 6px;
      text-decoration: none;
      border: 1px solid rgba(0,255,255,0.08);
    }
    .link-button:hover {
      transform: translateY(-4px);
      box-shadow: 0 10px 30px rgba(0,255,255,0.06);
    }

    /* Animate classes */
    .fade-in.visible     { opacity: 1; transform: none; }
    .zoom-in.visible     { opacity: 1; transform: scale(1); }
    .slide-left.visible  { opacity: 1; transform: none; }
    .slide-right.visible { opacity: 1; transform: none; }
    .bounce.visible      { animation: bounce-in 0.8s ease forwards; }

    @keyframes bounce-in {
      0%   { opacity: 0; transform: scale(0.9); }
      50%  { transform: scale(1.05); }
      100% { opacity: 1; transform: scale(1); }
    }

    /* Links */
    a { color: #00ffff; text-decoration: none; transition: color 0.3s ease; }
    a:hover { color: #00bfff; }

    /* Skill fade-in */
    .skill { transform: translateY(40px); opacity: 0; transition: transform 0.8s ease, opacity 0.8s ease; }
    .skill.visible { transform: translateY(0); opacity: 1; }

    /* Small responsive tweaks */
    @media (max-width: 700px) {
      .profile-photo { width: 140px; height: 140px; }
      .name { font-size: 1.6rem; }
    }
  </style>
</head>
<body>

  <!-- THREE.JS SHADER BACKGROUND (neon flow, pointer-reactive) -->
  <canvas id="shader-bg"></canvas>

  <!-- CONTENT WRAPPER -->
  <div class="content-wrapper">

    <!-- Navigation -->
    <nav class="navbar">
      <ul>
        <li><a href="#experience">Experience</a></li>
        <li><a href="#projects">Projects</a></li>
        <li><a href="#skills">Skills</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
      <img src="profile.jpg" alt="Akshay Kumar Photo" class="profile-photo" />
      <h1 class="name">Midinti Akshay Kumar</h1>
      <p class="title">Data Science & Computer Science Professional</p>
      <p>
        Motivated computer science and data science graduate skilled in data analysis
        and machine learning. Passionate about solving real-world problems through scalable and impactful solutions.
      </p>
      <a href="resume.pdf" class="resume-button" download>üìÑ Download Resume</a>
    </section>

    <!-- Education Section -->
    <section class="section" id="education">
      <h2>Education</h2>
      <div class="edu-card slide-left" data-delay="0s">
        <h3>B.Tech ‚Äì Computer Science & Data Science</h3>
        <p>MLR Institute of Technology</p><p> 2023‚Äì2026</p>
      </div>
      <div class="edu-card slide-right" data-delay="0.2s">
        <h3>Diploma ‚Äì Mechanical Engineering</h3>
        <p>Sri Sangameshwara Polytechnic</p><p>2020‚Äì2023</p>
      </div>
      <div class="edu-card zoom-in" data-delay="0.4s">
        <h3>SSC ‚Äì High School</h3>
        <p>Zilla Parishad High School</p><p>2019‚Äì2020</p>
      </div>
    </section>

    <section class="section" id="experience">
      <h2>Experience</h2>
      <div class="project bounce" data-delay="0s">
        <h3>üíº Deloitte Australia ‚Äì Data Analytics Virtual Internship (2025)</h3>
        <ul>
          <li>Simulated a real-world forensic audit investigation using datasets with thousands of financial records.</li>
          <li>Built insightful Tableau dashboards to visualize transaction anomalies, employee activity spikes, and vendor outliers.</li>
          <li>Utilized Excel for VLOOKUP-based data classification and pivot tables for grouping suspicious transactions.</li>
          <li>Demonstrated understanding of professional consulting workflows and data-driven decision making.</li>
        </ul>
        <a class="link-button" href="https://www.theforage.com/simulations/deloitte-au/data-analytics-s5zy" target="_blank">View Certificate</a>
      </div>
    </section>

    <section class="section" id="projects">
      <h2>Projects</h2>

      <div class="project fade-in" data-delay="0s">
        <h3>‚úã Gesture Interpreter</h3>
        <ul>
          <li>Developed a real-time gesture recognition system using Mediapipe and OpenCV to interpret hand signs (A-Z).</li>
          <li>Used landmark normalization and a trained ML model for accurate classification, achieving near real-time inference.</li>
          <li>Built a frontend using React and deployed the backend via FastAPI; supports webcam live gesture tracking.</li>
          <li>Potentially useful for accessible communication tools (e.g., for hearing-impaired users).</li>
        </ul>
        <a class="link-button" href="https://github.com/Midintiakshay/Gesture-Interpreter-main.git" target="_blank">GitHub Repo</a>
      </div>

      <div class="project zoom-in" data-delay="0.2s">
        <h3>üñºÔ∏è Image Classification</h3>
        <ul>
          <li>Built an image classification web app using TensorFlow and MobileNetV2 trained on CIFAR-10.</li>
          <li>Achieved 92% test accuracy using transfer learning techniques; reduced training time by 70%.</li>
          <li>Created a user-friendly UI using Streamlit to drag-and-drop images and display predicted labels in real time.</li>
          <li>Hosted publicly on Streamlit Cloud; demonstrated model deployment and inferencing in a production setting.</li>
        </ul>
        <a class="link-button" href="https://github.com/Midintiakshay/Image-Classification.git" target="_blank">GitHub</a>
        <a class="link-button" href="https://image-classification-m.streamlit.app/" target="_blank">Live Demo</a>
      </div>

      <div class="project slide-left" data-delay="0.4s">
        <h3>üåê Portfolio Website</h3>
        <ul>
          <li>Created a fully responsive personal portfolio using HTML5 and CSS3 with dark/light mode support.</li>
          <li>Used smooth scrolling, scroll-reveal animations, and modern badges to make each section interactive and polished.</li>
          <li>Included contact links, certification links, GitHub/LinkedIn integrations, and a downloadable resume option.</li>
          <li>Deployed seamlessly on Netlify with performance-optimized images and scripts.</li>
        </ul>
        <a class="link-button" href="https://midintiakshaykumar.netlify.app/" target="_blank">Live Site</a>
        <a class="link-button" href="https://github.com/Midintiakshay/AKSHAY-PORTFOLIO.git" target="_blank">GitHub</a>
      </div>
    </section>

    <!-- Skills -->
    <section class="section" id="skills">
      <h2>Skills</h2>
      <div class="skills-grid">
        <div class="skill"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg" alt="Python"><div>Python</div></div>
        <div class="skill"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/java/java-original.svg" alt="Java"><div>Java</div></div>
        <div class="skill"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/html5/html5-original.svg" alt="HTML"><div>HTML</div></div>
        <div class="skill"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/css3/css3-original.svg" alt="CSS"><div>CSS</div></div>
        <div class="skill"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mysql/mysql-original.svg" alt="MySQL"><div>MySQL</div></div>
        <div class="skill"><i class="fab fa-git-alt"></i><div>Git</div></div>

        <div class="skill"><div>NumPy</div></div>
        <div class="skill"><div>Pandas</div></div>
        <div class="skill"><div>Matplotlib</div></div>
        <div class="skill"><i class="fas fa-brain"></i><div>Machine Learning</div></div>
        <div class="skill"><i class="fas fa-database"></i><div>Big Data</div></div>
        <div class="skill"><i class="fas fa-chart-line"></i><div>Data Analysis</div></div>

        <div class="skill"><i class="fas fa-stream"></i><div>Streamlit</div></div>
        <div class="skill"><i class="fas fa-table"></i><div>Excel</div></div>
        <div class="skill"><i class="fas fa-code"></i><div>VS Code</div></div>
        <div class="skill"><i class="fas fa-book"></i><div>Jupyter Notebook</div></div>

        <div class="skill"><i class="fas fa-puzzle-piece"></i><div>Problem Solving</div></div>
        <div class="skill"><i class="fas fa-lightbulb"></i><div>Critical Thinking</div></div>
        <div class="skill"><i class="fas fa-sync-alt"></i><div>Adaptability</div></div>
        <div class="skill"><i class="fas fa-comments"></i><div>Communication</div></div>
      </div>
    </section>

    <section class="section" id="certs">
      <h2>Certifications</h2>

      <div class="project fade-in" data-delay="0s">
        <h3>üìä Career Essentials in Data Analysis</h3>
        <p><strong>Microsoft & LinkedIn Learning</strong></p>
        <ul><li>Excel, Power BI, SQL ‚Äì Real-world data analysis workflows.</li></ul>
        <a class="link-button" href="https://www.linkedin.com/learning/certificates/57711424dff0f9c57ff70923a9ac5693b38643450e28f02a9b5f3617515e7cda?trk=share_certificate" target="_blank">View Certificate</a>
      </div>

      <div class="project zoom-in" data-delay="0.2s">
        <h3>üêç Python for Data Science</h3>
        <p><strong>IBM</strong></p>
        <ul><li>Hands-on with Pandas, NumPy, and Matplotlib.</li></ul>
        <a class="link-button" href="https://www.credly.com/badges/..." target="_blank">View Certificate</a>
      </div>

      <div class="project slide-left" data-delay="0.3s">
        <h3>üß† Introduction to Machine Learning</h3>
        <p><strong>NPTEL</strong></p>
        <ul><li>Regression, SVM, PCA, and clustering models.</li></ul>
        <a class="link-button" href="https://archive.nptel.ac.in/content/..." target="_blank">View Certificate</a>
      </div>

      <div class="project fade-in" data-delay="0.4s">
        <h3>üß† Developing AI Applications with Python and Flask</h3>
        <p><strong>Coursera</strong></p>
        <ul><li>Built intelligent web apps integrating Flask and ML models.</li></ul>
        <a class="link-button" href="https://www.coursera.org/account/accomplishments/verify/EYF1X385SX8S" target="_blank">View Certificate</a>
      </div>

      <div class="project zoom-in" data-delay="0.5s">
        <h3>üìà SQL (Intermediate)</h3>
        <p><strong>HackerRank</strong></p>
        <ul><li>Mastered joins, subqueries, aggregation, and window functions.</li></ul>
        <a class="link-button" href="https://www.hackerrank.com/certificates/8bba62b65f1d" target="_blank">View Certificate</a>
      </div>

      <div class="project slide-left" data-delay="0.6s">
        <h3>üìä Big Data Analytics</h3>
        <p><strong>Great Learning</strong></p>
        <ul><li>Explored Hadoop, data lakes, and distributed data processing.</li></ul>
        <a class="link-button" href="https://www.mygreatlearning.com/certificate/NPFMBZKA" target="_blank">View Certificate</a>
      </div>

      <div class="project fade-in" data-delay="0.7s">
        <h3>‚úâÔ∏è Writing Professional Emails in English</h3>
        <p><strong>Coursera</strong></p>
        <ul><li>Developed effective and formal business communication skills.</li></ul>
        <a class="link-button" href="https://coursera.org/share/930812a59585602c0b066b6d67f76c21" target="_blank">View Certificate</a>
      </div>

      <div class="project zoom-in" data-delay="0.8s">
        <h3>üìä Data Analytics Essentials</h3>
        <p><strong>Credly</strong></p>
        <ul><li>Foundational principles of exploratory data analysis, KPIs, and insights extraction.</li></ul>
        <a class="link-button" href="https://www.credly.com/badges/671d60be-22d8-47e6-89b2-4a2cb2f27efe/linked_in_profile" target="_blank">View Certificate</a>
      </div>
    </section>

    <!-- Contact -->
    <footer class="section" id="contact">
      <h2>Contact</h2>
      <p>üìç <a href="https://www.google.com/maps/search/Thogarpally,+Sangareddy,+Telangana" target="_blank">Thogarpally, Sangareddy, Telangana</a></p>
      <p>üìß <a href="mailto:akshaykumarmidinti@gmail.com">akshaykumarmidinti@gmail.com</a></p>
      <p>üìû <a href="tel:+918919883303">+91 89198 83303</a></p>
      <div class="social">
        <a href="https://github.com/Midintiakshay" target="_blank"><i class="fab fa-github"></i> GitHub</a> |
        <a href="https://www.linkedin.com/in/midinti-akshay-kumar-1363502bb" target="_blank"><i class="fab fa-linkedin"></i> LinkedIn</a>
      </div>
    </footer>

  </div> <!-- end content-wrapper -->

  <!-- Scroll Animations with Staggered Delay (keeps your reveal logic) -->
  <script>
    const animatedElements = document.querySelectorAll(
      '.edu-card, .project, .fade-in, .zoom-in, .slide-left, .slide-right, .bounce, .skill, .hero'
    );

    function revealOnScroll() {
      const triggerBottom = window.innerHeight * 0.85;

      animatedElements.forEach((el, index) => {
        const rect = el.getBoundingClientRect();
        const delay = el.getAttribute('data-delay') || '0s';
        if (rect.top < triggerBottom && !el.classList.contains('visible')) {
          el.style.transitionDelay = delay;
          el.classList.add('visible');
        }
      });
    }

    window.addEventListener('scroll', revealOnScroll);
    window.addEventListener('load', revealOnScroll);
  </script>

  <!-- THREE.JS + GLSL NEON FLOW SHADER (copy of the working block used above) -->
  <script src="https://unpkg.com/three@0.158.0/build/three.min.js"></script>
  <script>
  (function(){
    const canvas = document.getElementById('shader-bg');
    const renderer = new THREE.WebGLRenderer({ canvas, antialias: false, alpha: false, preserveDrawingBuffer: false });
    renderer.setPixelRatio(Math.max(1, Math.min(2, window.devicePixelRatio || 1)));
    renderer.autoClear = false;

    const scene = new THREE.Scene();
    const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);

    let rtA = null, rtB = null;
    function makeRT(w, h){
      return new THREE.WebGLRenderTarget(w, h, {
        minFilter: THREE.LinearFilter,
        magFilter: THREE.LinearFilter,
        wrapS: THREE.RepeatWrapping,
        wrapT: THREE.RepeatWrapping,
        format: THREE.RGBAFormat,
        type: THREE.UnsignedByteType,
        depthBuffer: false,
        stencilBuffer: false
      });
    }

    const passVert = `
      attribute vec3 position;
      void main() { gl_Position = vec4(position, 1.0); }
    `;

    const passFrag = `
      precision highp float;
      uniform vec2 u_res;
      uniform float u_time;
      uniform sampler2D u_prev;
      uniform vec2 u_pointer;
      uniform float u_strength;
      uniform float u_decay;

      float hash(vec2 p){ return fract(sin(dot(p,vec2(127.1,311.7)))*43758.5453123); }
      float noise(in vec2 p){
        vec2 i = floor(p); vec2 f = fract(p);
        float a = hash(i), b = hash(i + vec2(1.0,0.0));
        float c = hash(i + vec2(0.0,1.0)), d = hash(i + vec2(1.0,1.0));
        vec2 u = f*f*(3.0-2.0*f);
        return mix(mix(a,b,u.x), mix(c,d,u.x), u.y);
      }
      float fbm(vec2 p){
        float v = 0.0, a = 0.5;
        for(int i=0;i<5;i++){
          v += a * noise(p);
          p = p*2.0 + vec2(1.7, -1.3);
          a *= 0.5;
        }
        return v;
      }

      vec3 hsv2rgb(vec3 c){
        vec3 p = abs(fract(c.xxx + vec3(0., 2./3., 1./3.)) * 6. - 3.);
        vec3 rgb = c.z * mix(vec3(1.0), clamp(p - 1.0, 0.0, 1.0), c.y);
        return rgb;
      }

      void main(){
        vec2 uv = gl_FragCoord.xy / u_res;
        vec3 prev = texture2D(u_prev, uv).rgb;
        float t = u_time * 0.6;

        vec2 p = (uv - 0.5) * vec2(u_res.x/u_res.y, 1.0);
        float n = fbm(p * 1.8 + vec2(t*0.2, -t*0.15));

        float pointerInfluence = 0.0;
        if(u_pointer.x >= 0.0){
          vec2 ptr = vec2(u_pointer.x, 1.0 - u_pointer.y);
          vec2 pd = (uv - ptr) * vec2(u_res.x/u_res.y, 1.0);
          float d = length(pd);
          pointerInfluence = exp(-d*d*60.0) * u_strength;
          float swirl = fbm((pd)*6.0 + t*2.0);
          n += pointerInfluence * swirl * 1.2;
        }

        float hue = fract(n*0.6 + t*0.07);
        float sat = 0.9;
        float lum = smoothstep(0.35, 0.8, n) * 0.9;

        vec3 color = hsv2rgb(vec3(hue, sat, lum));

        float baseMask = smoothstep(0.4, 0.7, n) * 0.08;
        float pointerMask = pointerInfluence * 1.2;
        vec3 curr = color * (baseMask + pointerMask);

        vec3 outCol = prev * u_decay + curr;
        outCol = clamp(outCol, 0.0, 1.5);
        outCol = pow(outCol, vec3(0.9));

        gl_FragColor = vec4(outCol, 1.0);
      }
    `;

    const copyFrag = `
      precision highp float;
      uniform sampler2D u_tex;
      void main(){
        vec2 uv = gl_FragCoord.xy / vec2(textureSize(u_tex,0));
        vec3 c = texture2D(u_tex, uv).rgb;
        gl_FragColor = vec4(c, 1.0);
      }
    `;

    const passMaterial = new THREE.RawShaderMaterial({
      uniforms: {
        u_res: { value: new THREE.Vector2(512,512) },
        u_time: { value: 0 },
        u_prev: { value: null },
        u_pointer: { value: new THREE.Vector2(-1, -1) },
        u_strength: { value: 1.0 },
        u_decay: { value: 0.94 }
      },
      vertexShader: passVert,
      fragmentShader: passFrag,
      depthWrite: false,
      depthTest: false
    });

    const screenMaterial = new THREE.RawShaderMaterial({
      uniforms: { u_tex: { value: null } },
      vertexShader: passVert,
      fragmentShader: copyFrag,
      depthWrite: false,
      depthTest: false
    });

    const geometry = new THREE.BufferGeometry();
    const verts = new Float32Array([-1, -1, 0, 3, -1, 0, -1, 3, 0]);
    geometry.setAttribute('position', new THREE.BufferAttribute(verts, 3));

    const passMesh = new THREE.Mesh(geometry, passMaterial);
    scene.add(passMesh);

    function ensureRT() {
      const w = Math.floor(canvas.clientWidth * renderer.getPixelRatio());
      const h = Math.floor(canvas.clientHeight * renderer.getPixelRatio());
      if (!rtA || rtA.width !== w || rtA.height !== h) {
        if (rtA) rtA.dispose();
        if (rtB) rtB.dispose();
        rtA = makeRT(w, h);
        rtB = makeRT(w, h);
        passMaterial.uniforms.u_res.value.set(w, h);
      }
    }
    ensureRT();
    const ro = new ResizeObserver(()=>{ renderer.setSize(canvas.clientWidth, canvas.clientHeight, false); ensureRT(); });
    ro.observe(canvas);
    renderer.setSize(canvas.clientWidth, canvas.clientHeight, false);
    ensureRT();

    const pointer = { x: -1, y: -1, active: false };
    function updatePointerFromEvent(clientX, clientY) {
      const rect = canvas.getBoundingClientRect();
      pointer.x = (clientX - rect.left) / rect.width;
      pointer.y = (clientY - rect.top) / rect.height;
      pointer.active = true;
    }
    window.addEventListener('mousemove', (e)=>{ updatePointerFromEvent(e.clientX, e.clientY); });
    window.addEventListener('touchstart', (e)=>{ updatePointerFromEvent(e.touches[0].clientX, e.touches[0].clientY); }, { passive: true });
    window.addEventListener('touchmove', (e)=>{ updatePointerFromEvent(e.touches[0].clientX, e.touches[0].clientY); }, { passive: true });
    window.addEventListener('touchend', ()=>{ pointer.x = -1; pointer.y = -1; pointer.active = false; });

    let pointerSmooth = { x: -1, y: -1 };
    function smoothPointer(dt) {
      if(pointer.active){
        if(pointerSmooth.x < 0) { pointerSmooth.x = pointer.x; pointerSmooth.y = pointer.y; }
        pointerSmooth.x += (pointer.x - pointerSmooth.x) * Math.min(1, 60*dt);
        pointerSmooth.y += (pointer.y - pointerSmooth.y) * Math.min(1, 60*dt);
      } else {
        pointerSmooth.x += (-1 - pointerSmooth.x) * Math.min(1, 60*dt);
        pointerSmooth.y += (-1 - pointerSmooth.y) * Math.min(1, 60*dt);
      }
      pointerSmooth.x = Math.max(-1, Math.min(1, pointerSmooth.x));
      pointerSmooth.y = Math.max(-1, Math.min(1, pointerSmooth.y));
    }

    let last = performance.now();
    function frame(now) {
      const dt = Math.min(0.05, (now - last) / 1000);
      last = now;
      ensureRT();

      passMaterial.uniforms.u_time.value = now * 0.001;
      smoothPointer(dt);
      passMaterial.uniforms.u_pointer.value.set(pointerSmooth.x, pointerSmooth.y);
      passMaterial.uniforms.u_prev.value = rtB.texture;

      renderer.setRenderTarget(rtA);
      renderer.clear();
      renderer.render(scene, camera);

      screenMaterial.uniforms.u_tex.value = rtA.texture;
      const prevMat = passMesh.material;
      passMesh.material = screenMaterial;
      renderer.setRenderTarget(null);
      renderer.clear();
      renderer.render(scene, camera);
      passMesh.material = prevMat;

      const tmp = rtA; rtA = rtB; rtB = tmp;

      requestAnimationFrame(frame);
    }
    requestAnimationFrame(frame);
  })();
  </script>
</body>
</html>
